

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Radio-morphology Features &mdash; oncotools 2.0.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="oncotools 2.0.1 documentation" href="../../index.html"/>
        <link rel="up" title="Source Code Documentation" href="../source.html"/>
        <link rel="next" title="Sample scripts" href="../examples.html"/>
        <link rel="prev" title="Transform" href="transform.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> oncotools
          

          
          </a>

          
            
            
              <div class="version">
                2.0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../source.html">Source Code Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="connect.html">Connect to the database</a></li>
<li class="toctree-l2"><a class="reference internal" href="query.html">Predefined queries</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_elements.html">Data elements</a></li>
<li class="toctree-l2"><a class="reference internal" href="transform.html">Transform</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Radio-morphology Features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#feature-base-class">Feature Base Class</a></li>
<li class="toctree-l3"><a class="reference internal" href="#center-of-mass-feature">Center of Mass Feature</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dvh-feature">DVH Feature</a></li>
<li class="toctree-l3"><a class="reference internal" href="#octant-shells-feature">Octant-Shells Feature</a></li>
<li class="toctree-l3"><a class="reference internal" href="#slice-feature">Slice Feature</a></li>
<li class="toctree-l3"><a class="reference internal" href="#superior-inferior-feature">Superior-Inferior Feature</a></li>
<li class="toctree-l3"><a class="reference internal" href="#volumetric-shells-feature">Volumetric Shells Feature</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Sample scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../radio_morphology.html">Radio-morphology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../radio_morphology.html#features">Features</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">oncotools</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../source.html">Source Code Documentation</a> &raquo;</li>
        
      <li>Radio-morphology Features</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/_source/code_docs/features.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="radio-morphology-features">
<span id="features"></span><h1>Radio-morphology Features<a class="headerlink" href="#radio-morphology-features" title="Permalink to this headline">¶</a></h1>
<div class="section" id="feature-base-class">
<h2>Feature Base Class<a class="headerlink" href="#feature-base-class" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="radio_morphology.feature.Feature">
<em class="property">class </em><code class="descclassname">radio_morphology.feature.</code><code class="descname">Feature</code><span class="sig-paren">(</span><em>featureID</em>, <em>feature_type=None</em>, <em>mask=None</em>, <em>dose=None</em><span class="sig-paren">)</span><a class="headerlink" href="#radio_morphology.feature.Feature" title="Permalink to this definition">¶</a></dt>
<dd><p>The Feature class is an abstract representation of an RM feature.
Many types of RM features can be defined as extensions of this base class.</p>
<p>Each subclass can take different arguments and perform different processing steps.</p>
<dl class="docutils">
<dt>Positional arguments:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">featureID:</th><td class="field-body">feature identifier</td>
</tr>
</tbody>
</table>
</dd>
<dt>Properties:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">id:</th><td class="field-body">patient identifier</td>
</tr>
<tr class="field-even field"><th class="field-name">type:</th><td class="field-body">identifier for the type of feature calculation</td>
</tr>
<tr class="field-odd field"><th class="field-name">loaded:</th><td class="field-body">flag for whether or not necessary values have been loaded</td>
</tr>
</tbody>
</table>
</dd>
<dt>Loaded properties:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">mask:</th><td class="field-body">binary mask that is loaded</td>
</tr>
<tr class="field-even field"><th class="field-name">dose:</th><td class="field-body">dose grid that is loaded</td>
</tr>
</tbody>
</table>
</dd>
<dt>Calculated properties:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">feature_mask:</th><td class="field-body">mask after shape transformation</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">feature_dosemask:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">dose_masks making up the feature</td>
</tr>
<tr class="field-odd field"><th class="field-name">values:</th><td class="field-body">the values associated with the feature</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<dl class="method">
<dt id="radio_morphology.feature.Feature.load">
<code class="descname">load</code><span class="sig-paren">(</span><em>mask</em>, <em>dose</em><span class="sig-paren">)</span><a class="headerlink" href="#radio_morphology.feature.Feature.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the feature with a mask and a dose grid.</p>
<dl class="docutils">
<dt>Positional arguments:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">mask:</th><td class="field-body">mask to be processed</td>
</tr>
<tr class="field-even field"><th class="field-name">dose:</th><td class="field-body">dose grid</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="radio_morphology.feature.Feature.process">
<code class="descname">process</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#radio_morphology.feature.Feature.process" title="Permalink to this definition">¶</a></dt>
<dd><p>Process the feature.</p>
</dd></dl>

<dl class="method">
<dt id="radio_morphology.feature.Feature.process_dose">
<code class="descname">process_dose</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#radio_morphology.feature.Feature.process_dose" title="Permalink to this definition">¶</a></dt>
<dd><p>Process the data: compute the feature values.</p>
<p>The process() method is different for each type of feature.</p>
</dd></dl>

<dl class="method">
<dt id="radio_morphology.feature.Feature.process_mask">
<code class="descname">process_mask</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#radio_morphology.feature.Feature.process_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Process the data: perform the shape transformations.</p>
<p>The process_mask() method is different for each type of feature.</p>
</dd></dl>

<dl class="attribute">
<dt id="radio_morphology.feature.Feature.values">
<code class="descname">values</code><a class="headerlink" href="#radio_morphology.feature.Feature.values" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the values.</p>
<p>Each type of feature class has a different type of output.
See each class&#8217;s documentation for further details.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="center-of-mass-feature">
<h2>Center of Mass Feature<a class="headerlink" href="#center-of-mass-feature" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="radio_morphology.com_feature.ComFeature">
<em class="property">class </em><code class="descclassname">radio_morphology.com_feature.</code><code class="descname">ComFeature</code><span class="sig-paren">(</span><em>featureID</em>, <em>feature_type=None</em>, <em>mask=None</em>, <em>dose=None</em>, <em>dvh=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#radio_morphology.com_feature.ComFeature" title="Permalink to this definition">¶</a></dt>
<dd><p>The Center of Mass Feature (ComFeature) class is an extension of the Feature abstract class.</p>
<p>This feature first calculates the center of mass of the mask
by averaging the coordinates of every point in the mask.
With the center of mass as the orgin, the feature will calculate octants along the x,y,z axes
and will split the mask into 8 separate masks, each representing an octant.
A DoseMap for each smaller mask will be calculated.</p>
<p>Each value in the values correspond to a single octant;
for quick reference the octant positions are defined as follows:</p>
<dl class="docutils">
<dt>Note:</dt>
<dd><p class="first">Octants are defined as follows:</p>
<p>(plus) indicates the the octant include the positive direction of the corresponding axis.</p>
<table border="1" class="last docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Index</th>
<th class="head">Axis</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>i</td>
<td>(x,y,z)</td>
</tr>
<tr class="row-odd"><td>0</td>
<td>(+,+,+)</td>
</tr>
<tr class="row-even"><td>1</td>
<td>(-,+,+)</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>(-,-,+)</td>
</tr>
<tr class="row-even"><td>3</td>
<td>(+,-,+)</td>
</tr>
<tr class="row-odd"><td>4</td>
<td>(+,+,-)</td>
</tr>
<tr class="row-even"><td>5</td>
<td>(-,+,-)</td>
</tr>
<tr class="row-odd"><td>6</td>
<td>(-,-,-)</td>
</tr>
<tr class="row-even"><td>7</td>
<td>(+,-,-)</td>
</tr>
</tbody>
</table>
</dd>
<dt>Keyword arguments:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">dvh:</th><td class="field-body">list of dvh volumes to look up</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<dl class="method">
<dt id="radio_morphology.com_feature.ComFeature.process">
<code class="descname">process</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#radio_morphology.com_feature.ComFeature.process" title="Permalink to this definition">¶</a></dt>
<dd><p>Process the mask and dose</p>
<dl class="docutils">
<dt>Returns: Dictionary with the following keys:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">mean:</th><td class="field-body">list of mean dose per octant</td>
</tr>
<tr class="field-even field"><th class="field-name">max:</th><td class="field-body">list of max dose per octant</td>
</tr>
<tr class="field-odd field"><th class="field-name">min:</th><td class="field-body">list of min dose per octant</td>
</tr>
<tr class="field-even field"><th class="field-name">dvh:</th><td class="field-body">list of doses, list of volume with each dose</td>
</tr>
</tbody>
</table>
</dd>
<dt>Raises:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">ValueError:</th><td class="field-body">if data is not loaded</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="radio_morphology.com_feature.ComFeature.process_dose">
<code class="descname">process_dose</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#radio_morphology.com_feature.ComFeature.process_dose" title="Permalink to this definition">¶</a></dt>
<dd><p>Map dose onto each octant</p>
</dd></dl>

<dl class="method">
<dt id="radio_morphology.com_feature.ComFeature.process_mask">
<code class="descname">process_mask</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#radio_morphology.com_feature.ComFeature.process_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Partition the mask into octants</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="dvh-feature">
<h2>DVH Feature<a class="headerlink" href="#dvh-feature" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="radio_morphology.dvh_feature.DVHFeature">
<em class="property">class </em><code class="descclassname">radio_morphology.dvh_feature.</code><code class="descname">DVHFeature</code><span class="sig-paren">(</span><em>featureID</em>, <em>feature_type=None</em>, <em>mask=None</em>, <em>dose=None</em>, <em>dvh=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#radio_morphology.dvh_feature.DVHFeature" title="Permalink to this definition">¶</a></dt>
<dd><p>The DVH Feature (DVHFeature) class is an extension of the Feature abstract class.</p>
<p>This feature computes dose statistics for a mask without any shape transfrmations.</p>
<dl class="docutils">
<dt>Keyword arguments:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">dvh:</th><td class="field-body">list of dvh volumes to look up</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<dl class="method">
<dt id="radio_morphology.dvh_feature.DVHFeature.process">
<code class="descname">process</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#radio_morphology.dvh_feature.DVHFeature.process" title="Permalink to this definition">¶</a></dt>
<dd><p>Process the mask and dose</p>
<dl class="docutils">
<dt>Returns: Dictionary with the following keys:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">mean:</th><td class="field-body">mean dose</td>
</tr>
<tr class="field-even field"><th class="field-name">max:</th><td class="field-body">max dose</td>
</tr>
<tr class="field-odd field"><th class="field-name">min:</th><td class="field-body">min dose</td>
</tr>
<tr class="field-even field"><th class="field-name">dvh:</th><td class="field-body">list of doses, list of volumes with each dose</td>
</tr>
</tbody>
</table>
</dd>
<dt>Raises:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">ValueError:</th><td class="field-body">if data is not loaded</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="radio_morphology.dvh_feature.DVHFeature.process_dose">
<code class="descname">process_dose</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#radio_morphology.dvh_feature.DVHFeature.process_dose" title="Permalink to this definition">¶</a></dt>
<dd><p>Map dose onto the mask</p>
</dd></dl>

<dl class="method">
<dt id="radio_morphology.dvh_feature.DVHFeature.process_mask">
<code class="descname">process_mask</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#radio_morphology.dvh_feature.DVHFeature.process_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>No shape transformations for this feature. Just returns the mask</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="octant-shells-feature">
<h2>Octant-Shells Feature<a class="headerlink" href="#octant-shells-feature" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="radio_morphology.octant_shells_feature.OctantShellsFeature">
<em class="property">class </em><code class="descclassname">radio_morphology.octant_shells_feature.</code><code class="descname">OctantShellsFeature</code><span class="sig-paren">(</span><em>featureID</em>, <em>feature_type=None</em>, <em>mask=None</em>, <em>dose=None</em>, <em>contract=[]</em>, <em>expand=[]</em>, <em>dvh=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#radio_morphology.octant_shells_feature.OctantShellsFeature" title="Permalink to this definition">¶</a></dt>
<dd><p>The OctantShellsFeature class is an extension of the Feature abstract class.</p>
<p>This class uses a list of expansions and contractions
to create a set of concentric shells and cuts each shell into octants
along the x, y, and z axes.</p>
<p>Values are calculated as the average dose between in each shell
or specified DVH values.</p>
<dl class="docutils">
<dt>Keyword arguments:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">contract:</th><td class="field-body">list of contractions to be performed on the mask</td>
</tr>
<tr class="field-even field"><th class="field-name">expand:</th><td class="field-body">list of expansions to be performed on the mask</td>
</tr>
<tr class="field-odd field"><th class="field-name">dvh:</th><td class="field-body">list of dvh volumes to look up</td>
</tr>
</tbody>
</table>
</dd>
<dt>Note: Contraction and Expansion values may be given as:</dt>
<dd><ul class="first last simple">
<li>A single number:       uniform expansion in all dimensions</li>
<li>A list of 1 number:    uniform expansion in all dimensions</li>
<li>A list of 3 numbers:   expansion in x, y, and z, respectively</li>
<li>A list of 6 numbers:   expansion in -x, +x, -y, +y, -z, and +z, respectively</li>
</ul>
</dd>
<dt>Values:</dt>
<dd><dl class="first last docutils">
<dt>The values field of a OctantShellsFeature is a tuple of lists where...</dt>
<dd><ul class="first simple">
<li>the first element is a list of expansion and contraction factors,</li>
</ul>
<p class="last">ordered to define the outer bounds of each shell
- the second element is a list of average dose in each shell</p>
</dd>
<dt>Note:</dt>
<dd>Given <cite>n</cite> total expansions and contractions, there will be <cite>n+1</cite> average dose values.</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="radio_morphology.octant_shells_feature.OctantShellsFeature.process">
<code class="descname">process</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#radio_morphology.octant_shells_feature.OctantShellsFeature.process" title="Permalink to this definition">¶</a></dt>
<dd><p>Process the feature and calculate the average dose in each shell</p>
<dl class="docutils">
<dt>Returns: Dictionary with the following keys:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">bounds:</th><td class="field-body">identifying name for each sub-section</td>
</tr>
<tr class="field-even field"><th class="field-name">mean:</th><td class="field-body">list of mean dose per shape</td>
</tr>
<tr class="field-odd field"><th class="field-name">max:</th><td class="field-body">list of max dose per shape</td>
</tr>
<tr class="field-even field"><th class="field-name">min:</th><td class="field-body">list of min dose per shape</td>
</tr>
<tr class="field-odd field"><th class="field-name">dvh:</th><td class="field-body">list of doses, list of volume with each dose</td>
</tr>
</tbody>
</table>
</dd>
<dt>Raises:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">ValueError:</th><td class="field-body">if data is not loaded</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="radio_morphology.octant_shells_feature.OctantShellsFeature.process_dose">
<code class="descname">process_dose</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#radio_morphology.octant_shells_feature.OctantShellsFeature.process_dose" title="Permalink to this definition">¶</a></dt>
<dd><p>Map dose onto each derived substructure</p>
</dd></dl>

<dl class="method">
<dt id="radio_morphology.octant_shells_feature.OctantShellsFeature.process_mask">
<code class="descname">process_mask</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#radio_morphology.octant_shells_feature.OctantShellsFeature.process_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates shells and octants with the given parameters</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="slice-feature">
<h2>Slice Feature<a class="headerlink" href="#slice-feature" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="radio_morphology.slice_feature.SliceFeature">
<em class="property">class </em><code class="descclassname">radio_morphology.slice_feature.</code><code class="descname">SliceFeature</code><span class="sig-paren">(</span><em>featureID</em>, <em>feature_type=None</em>, <em>mask=None</em>, <em>dose=None</em>, <em>num_slices=2</em>, <em>axis='z'</em>, <em>dvh=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#radio_morphology.slice_feature.SliceFeature" title="Permalink to this definition">¶</a></dt>
<dd><p>The Slice Feature (SliceFeature) class is an extension of the Feature abstract class.</p>
<p>This feature uses the bounds of the mask
to create a specified number of slices along a given axis.</p>
<dl class="docutils">
<dt>Keyword arguments:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">num_slices:</th><td class="field-body">number of slices to create, default=2</td>
</tr>
<tr class="field-even field"><th class="field-name">axis:</th><td class="field-body">axis along which to be cut (&#8216;x&#8217;, &#8216;y&#8217;, or &#8216;z&#8217;), default=&#8217;z&#8217;</td>
</tr>
<tr class="field-odd field"><th class="field-name">dvh:</th><td class="field-body">list of dvh volumes to look up</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<dl class="method">
<dt id="radio_morphology.slice_feature.SliceFeature.process">
<code class="descname">process</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#radio_morphology.slice_feature.SliceFeature.process" title="Permalink to this definition">¶</a></dt>
<dd><p>Process the feature and calculate the average dose in each shell.</p>
<dl class="docutils">
<dt>Returns: Dictionary with the following keys:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">mean:</th><td class="field-body">list of mean dose per shape</td>
</tr>
<tr class="field-even field"><th class="field-name">max:</th><td class="field-body">list of max dose per shape</td>
</tr>
<tr class="field-odd field"><th class="field-name">min:</th><td class="field-body">list of min dose per shape</td>
</tr>
<tr class="field-even field"><th class="field-name">dvh:</th><td class="field-body">list of doses, list of volume with each dose</td>
</tr>
</tbody>
</table>
</dd>
<dt>Raises:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">ValueError:</th><td class="field-body">if data is not loaded</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="radio_morphology.slice_feature.SliceFeature.process_dose">
<code class="descname">process_dose</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#radio_morphology.slice_feature.SliceFeature.process_dose" title="Permalink to this definition">¶</a></dt>
<dd><p>Map dose onto each derived substructure</p>
</dd></dl>

<dl class="method">
<dt id="radio_morphology.slice_feature.SliceFeature.process_mask">
<code class="descname">process_mask</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#radio_morphology.slice_feature.SliceFeature.process_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Create slices of equal thickness along the specified axis</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="superior-inferior-feature">
<h2>Superior-Inferior Feature<a class="headerlink" href="#superior-inferior-feature" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="radio_morphology.sup_inf_feature.SIFeature">
<em class="property">class </em><code class="descclassname">radio_morphology.sup_inf_feature.</code><code class="descname">SIFeature</code><span class="sig-paren">(</span><em>featureID</em>, <em>feature_type=None</em>, <em>mask=None</em>, <em>dose=None</em>, <em>dvh=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#radio_morphology.sup_inf_feature.SIFeature" title="Permalink to this definition">¶</a></dt>
<dd><p>The Superior-Inferior Feature (SIFeature) class is an extension of the Feature abstract class.</p>
<p>This feature first calculates the center of mass of the mask
by averaging the coordinates of every point in the mask.
With the center of mass as the orgin,
the feature will calculate split the original dose map into superior and inferior halves.</p>
<dl class="docutils">
<dt>Keyword arguments:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">dvh:</th><td class="field-body">list of dvh volumes to look up</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<dl class="method">
<dt id="radio_morphology.sup_inf_feature.SIFeature.process">
<code class="descname">process</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#radio_morphology.sup_inf_feature.SIFeature.process" title="Permalink to this definition">¶</a></dt>
<dd><p>Process the feature and calculate the average dose and dvh values in each half.</p>
<dl class="docutils">
<dt>Returns: Dictionary with the following keys:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">mean:</th><td class="field-body">list of mean dose per shape</td>
</tr>
<tr class="field-even field"><th class="field-name">max:</th><td class="field-body">list of max dose per shape</td>
</tr>
<tr class="field-odd field"><th class="field-name">min:</th><td class="field-body">list of min dose per shape</td>
</tr>
<tr class="field-even field"><th class="field-name">dvh:</th><td class="field-body">list of doses, list of volume with each dose</td>
</tr>
</tbody>
</table>
</dd>
<dt>Raises:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">ValueError:</th><td class="field-body">if data is not loaded</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="radio_morphology.sup_inf_feature.SIFeature.process_dose">
<code class="descname">process_dose</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#radio_morphology.sup_inf_feature.SIFeature.process_dose" title="Permalink to this definition">¶</a></dt>
<dd><p>Map dose onto each derived substructure.</p>
</dd></dl>

<dl class="method">
<dt id="radio_morphology.sup_inf_feature.SIFeature.process_mask">
<code class="descname">process_mask</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#radio_morphology.sup_inf_feature.SIFeature.process_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Separate a mask into superior and inferior halves.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="volumetric-shells-feature">
<h2>Volumetric Shells Feature<a class="headerlink" href="#volumetric-shells-feature" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="radio_morphology.volumetric_feature.VolumetricFeature">
<em class="property">class </em><code class="descclassname">radio_morphology.volumetric_feature.</code><code class="descname">VolumetricFeature</code><span class="sig-paren">(</span><em>featureID</em>, <em>feature_type=None</em>, <em>mask=None</em>, <em>dose=None</em>, <em>contract=[]</em>, <em>expand=[]</em>, <em>dvh=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#radio_morphology.volumetric_feature.VolumetricFeature" title="Permalink to this definition">¶</a></dt>
<dd><p>The VolumetricFeature class is an extension of the Feature abstract class.</p>
<p>This class uses a list of expansions and contractions
to create a set of concentric shells.
Values are calculated as the average dose between in each shell
and specified DVH values.</p>
<dl class="docutils">
<dt>Keyword arguments:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">contract:</th><td class="field-body">list of contractions to be performed on the mask</td>
</tr>
<tr class="field-even field"><th class="field-name">expand:</th><td class="field-body">list of expansions to be performed on the mask</td>
</tr>
<tr class="field-odd field"><th class="field-name">dvh:</th><td class="field-body">list of dvh volumes to look up</td>
</tr>
</tbody>
</table>
</dd>
<dt>Note: Contraction and Expansion values may be given as:</dt>
<dd><ul class="first last simple">
<li>A single number:       uniform expansion in all dimensions</li>
<li>A list of 1 number:    uniform expansion in all dimensions</li>
<li>A list of 3 numbers:   expansion in x, y, and z, respectively</li>
<li>A list of 6 numbers:   expansion in -x, +x, -y, +y, -z, and +z, respectively</li>
</ul>
</dd>
<dt>Values:</dt>
<dd><dl class="first last docutils">
<dt>The values field of a VolumetricFeature is a tuple of lists where...</dt>
<dd><ul class="first simple">
<li>the first element is a list of expansion and contraction factors,</li>
</ul>
<p class="last">ordered to define the outer bounds of each shell
- the second element is a list of average dose in each shell</p>
</dd>
<dt>Note:</dt>
<dd>Given <cite>n</cite> total expansions and contractions, there will be <cite>n+1</cite> average dose values.</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="radio_morphology.volumetric_feature.VolumetricFeature.process">
<code class="descname">process</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#radio_morphology.volumetric_feature.VolumetricFeature.process" title="Permalink to this definition">¶</a></dt>
<dd><p>Process the feature and calculate the average dose in each shell.</p>
<dl class="docutils">
<dt>Returns: Dictionary with the following keys:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">bounds:</th><td class="field-body">identifying name for each sub-section</td>
</tr>
<tr class="field-even field"><th class="field-name">mean:</th><td class="field-body">list of mean dose per shape</td>
</tr>
<tr class="field-odd field"><th class="field-name">max:</th><td class="field-body">list of max dose per shape</td>
</tr>
<tr class="field-even field"><th class="field-name">min:</th><td class="field-body">list of min dose per shape</td>
</tr>
<tr class="field-odd field"><th class="field-name">dvh:</th><td class="field-body">list of doses, list of volume with each dose        Raises:</td>
</tr>
</tbody>
</table>
</dd>
<dt>Raises:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">ValueError:</th><td class="field-body">if data is not loaded</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="radio_morphology.volumetric_feature.VolumetricFeature.process_dose">
<code class="descname">process_dose</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#radio_morphology.volumetric_feature.VolumetricFeature.process_dose" title="Permalink to this definition">¶</a></dt>
<dd><p>Map dose onto each derived substructure</p>
</dd></dl>

<dl class="method">
<dt id="radio_morphology.volumetric_feature.VolumetricFeature.process_mask">
<code class="descname">process_mask</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#radio_morphology.volumetric_feature.VolumetricFeature.process_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Create shells by expanding and contracting the mask</p>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../examples.html" class="btn btn-neutral float-right" title="Sample scripts" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="transform.html" class="btn btn-neutral" title="Transform" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, oncotools.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'2.0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>